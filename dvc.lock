schema: '2.0'
stages:
  preprocess:
    cmd: python src/preprocess.py --config params.yaml
    deps:
    - path: data/raw/dataset.csv
      hash: md5
      md5: d0d310956d576c09511ff7bf3b46144b
      size: 96412524
    - path: params.yaml
      hash: md5
      md5: 372023c344bf4ec55f68e22f277044b1
      size: 587
    - path: src/preprocess.py
      hash: md5
      md5: 826c89f924852c6131a2b214187bc0ce
      size: 2456
    params:
      params.yaml:
        encoding:
          categorical_cols:
          - region
          - mark
          - model
          - complectation
          - steering_wheel
          - gear_type
          - engine
          - transmission
          - characteristics
          - color
          - body_type_type
          - body_type_name
          - super_gen_name
        preprocess:
          handle_missing: true
          remove_outliers: false
          test_size: 0.2
          random_state: 42
        scaling:
          numerical_cols:
          - owners
          - year
          - price
          - mileage
          - power
          - displacement
          - super_gen_year_from
          - super_gen_year_to
    outs:
    - path: data/processed/dataset.csv
      hash: md5
      md5: f48c2dc2a93400e297174f23dc0f4b31
      size: 162459840
    - path: models/encoders.pkl
      hash: md5
      md5: 98fa8c7c4a7dfcae5a6e0a3355972adf
      size: 391724
    - path: models/scaler.pkl
      hash: md5
      md5: b8e42fff1d28efde133b8f266fa45dc2
      size: 1159
  split:
    cmd: python src/split_data.py --config params.yaml
    deps:
    - path: data/processed/dataset.csv
      hash: md5
      md5: f48c2dc2a93400e297174f23dc0f4b31
      size: 162459840
    - path: params.yaml
      hash: md5
      md5: 372023c344bf4ec55f68e22f277044b1
      size: 587
    - path: src/split_data.py
      hash: md5
      md5: 21a38c965e69a0d44002fd28a1c4018d
      size: 1159
    params:
      params.yaml:
        preprocess.random_state: 42
        preprocess.test_size: 0.2
    outs:
    - path: data/split/X_test.csv
      hash: md5
      md5: f57c18890c98795df2b554a3c2c92f29
      size: 30522155
    - path: data/split/X_train.csv
      hash: md5
      md5: 0f8133ac7a9746ee37e08ecef446a921
      size: 122043874
    - path: data/split/y_test.csv
      hash: md5
      md5: d8c8a1f343412cf9d61e1f6e39813066
      size: 1683157
    - path: data/split/y_train.csv
      hash: md5
      md5: 6a74ae2669835b6e5556b6301b64e3f2
      size: 6732794
