<<<<<<< HEAD
# T25--4m_MLOps
Ð¼Ð°Ñ‚ÐµÑ€Ð¸Ð°Ð»Ñ‹ Ð¸ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ñ‹ ÐºÑƒÑ€ÑÐ° "Ð£Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð¿Ñ€Ð¾Ñ†ÐµÑÑÐ°Ð¼Ð¸ Ð¼Ð°ÑˆÐ¸Ð½Ð½Ð¾Ð³Ð¾ Ð¾Ð±ÑƒÑ‡ÐµÐ½Ð¸Ñ (MLOps) (7 ÑÐµÐ¼ÐµÑÑ‚Ñ€)"

## Ð»ÐµÐºÑ‚Ð¾Ñ€: Ð¢Ñ€ÑƒÐ±Ñ‡Ð¸Ðº Ð˜.Ð¡.

## [Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð° ÐºÑƒÑ€ÑÐ°]()

## [Ð›ÐµÐºÑ†Ð¸Ð¸](./Ð›ÐµÐºÑ†Ð¸Ð¸)




=======
# ðŸš‚ Train Delay Prediction â€” End-to-End MLOps Pipeline

**ÐŸÑ€Ð¾ÐµÐºÑ‚ Ð¿Ð¾ MLOps ÐºÐ¾Ð¼Ð°Ð½Ð´Ñ‹ â„–6**
**Team 6:** Meksiner, BookWormDevid, Le666Ly

End-to-end MLOps pipeline Ð´Ð»Ñ Ð¿Ñ€ÐµÐ´ÑÐºÐ°Ð·Ð°Ð½Ð¸Ñ Ð·Ð°Ð´ÐµÑ€Ð¶ÐºÐ¸ Ð¿Ð¾ÐµÐ·Ð´Ð¾Ð² Ñ Ð¿Ð¾Ð»Ð½Ñ‹Ð¼ CI/CD, Ð¼Ð¾Ð½Ð¸Ñ‚Ð¾Ñ€Ð¸Ð½Ð³Ð¾Ð¼ Ð¸ Ð´ÐµÑ‚ÐµÐºÑ†Ð¸ÐµÐ¹ Ð´Ñ€Ð¸Ñ„Ñ‚Ð°.

---

## Ð‘Ñ‹ÑÑ‚Ñ€Ñ‹Ð¹ ÑÑ‚Ð°Ñ€Ñ‚

### 1. ÐšÐ»Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð¸ .venv
```bash
git clone https://github.com/BookWormDevid/T25--4m_MLOp.git
cd T25--4m_MLOp
uv venv .venv
source .venv/bin/activate  # Linux/Mac
# .venv\Scripts\activate   # Windows
```

### 2. Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ° Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚ÐµÐ¹
```bash
uv sync
uv sync --all-groups # Ð•ÑÐ»Ð¸ Ñ…Ð¾Ñ‚Ð¸Ñ‚Ðµ Ð¼ÐµÐ½ÑÑ‚ÑŒ ÐºÐ¾Ð´
python tests/test_tf.py # Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ° ÑƒÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ¸ tensorflow
# ÐµÑÐ»Ð¸ ÐµÑÑ‚ÑŒ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ñ‹ Ñ tensorflow Ð½Ð° Ð²Ð¸Ð½Ð´Ð¾Ð²Ñ, ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚Ðµ VC++ Redist
# uv pip uninstall tensorflow keras -y
# uv pip install tensorflow==2.18.1
```

### 3. DVC Ð¸ Ð´Ð°Ñ‚Ð°ÑÐµÑ‚
```bash
curl -L -o data/raw/delay.csv https://www.kaggle.com/api/v1/datasets/download/bartek358/train-delays
unzip data/raw/delay.zip -d data/raw
rm -r data/raw/delay.zip
mlflow server --backend-store-uri sqlite:///mlflow/mlflow.db --default-artifact-root ./mlruns --host 0.0.0.0 --port 5000
dvc repro
```

### 4. ÐšÐ¾Ð¼Ð°Ð½Ð´Ñ‹ Ð·Ð°Ð¿ÑƒÑÐºÐ° Ð¸ Ñ€Ð°Ð·Ð½Ð¾Ðµ
#### 4.1 Ð”Ð°Ð½Ð½Ñ‹Ðµ Ð¸ Ð¾Ð±ÑƒÑ‡ÐµÐ½Ð¸Ðµ
```bash
python tests/test_data.py
python src/train.py # Ð¾Ð±ÑƒÑ‡ÐµÐ½Ð¸Ðµ
```
#### 4.2 Ð—Ð°Ð¿ÑƒÑÐº API Ð¸ MLflow UI
```bash
python -m uvicorn src.api:app --reload
mlflow ui --port 5000
```



## ðŸ“Š ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð°Ñ‚Ð¸ÐºÐ°

Ð¦ÐµÐ»ÑŒ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð° â€” **Ð¿Ñ€ÐµÐ´ÑÐºÐ°Ð·Ð°Ñ‚ÑŒ, Ð±ÑƒÐ´ÐµÑ‚ Ð»Ð¸ Ð¿Ð¾ÐµÐ·Ð´ Ð·Ð°Ð´ÐµÑ€Ð¶Ð°Ð½ Ð½Ð° 15 Ð¼Ð¸Ð½ÑƒÑ‚ Ð¸ Ð±Ð¾Ð»ÐµÐµ**, Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÑ Ð¸ÑÑ‚Ð¾Ñ€Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ Ð¸ ÐºÐ¾Ð½Ñ‚ÐµÐºÑÑ‚Ð½Ñ‹Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ.

Ð—Ð°Ð´Ð°Ñ‡Ð° Ñ„Ð¾Ñ€Ð¼ÑƒÐ»Ð¸Ñ€ÑƒÐµÑ‚ÑÑ ÐºÐ°Ðº **Ð±Ð¸Ð½Ð°Ñ€Ð½Ð°Ñ ÐºÐ»Ð°ÑÑÐ¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸Ñ**:
- `0` â€” Ð·Ð°Ð´ÐµÑ€Ð¶ÐºÐ° Ð¼ÐµÐ½ÐµÐµ 15 Ð¼Ð¸Ð½ÑƒÑ‚
- `1` â€” Ð·Ð°Ð´ÐµÑ€Ð¶ÐºÐ° 15 Ð¼Ð¸Ð½ÑƒÑ‚ Ð¸ Ð±Ð¾Ð»ÐµÐµ

---

## ðŸ” Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÐ¼Ñ‹Ðµ Ð¿Ñ€Ð¸Ð·Ð½Ð°ÐºÐ¸

ÐœÐ¾Ð´ÐµÐ»ÑŒ Ð¾Ð±ÑƒÑ‡Ð°ÐµÑ‚ÑÑ Ð½Ð° ÑÐ»ÐµÐ´ÑƒÑŽÑ‰Ð¸Ñ… Ð³Ñ€ÑƒÐ¿Ð¿Ð°Ñ… Ð¿Ñ€Ð¸Ð·Ð½Ð°ÐºÐ¾Ð²:

### ðŸ•’ Ð’Ñ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ðµ Ð¿Ñ€Ð¸Ð·Ð½Ð°ÐºÐ¸
- Ð’Ñ€ÐµÐ¼Ñ Ð¿Ñ€Ð¸Ð±Ñ‹Ñ‚Ð¸Ñ
- Ð”Ð°Ñ‚Ð°

### ðŸš‰ ÐœÐ°Ñ€ÑˆÑ€ÑƒÑ‚ Ð¸ Ð¸Ð½Ñ„Ñ€Ð°ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð°
- Ð¡Ñ‚Ð°Ð½Ñ†Ð¸Ñ Ð¿Ñ€Ð¸Ð±Ñ‹Ñ‚Ð¸Ñ
- ÐœÐ°Ñ€ÑˆÑ€ÑƒÑ‚
- ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ Ð²ÐµÑ‚ÐºÐ¸
- Ð¢Ð¸Ð¿ Ð¼Ð°Ñ€ÑˆÑ€ÑƒÑ‚Ð°

### ðŸš† ÐŸÐ¾ÐµÐ·Ð´
- Ð¢Ð¸Ð¿ Ð¿Ð¾ÐµÐ·Ð´Ð° (Ñ€ÐµÐ³Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ñ‹Ð¹ / ÑÐºÐ¾Ñ€Ð¾ÑÑ‚Ð½Ð¾Ð¹ / Ð³Ñ€ÑƒÐ·Ð¾Ð²Ð¾Ð¹ Ð¸ Ñ‚.Ð´.)

### ðŸŒ¦ï¸ (ÐžÐ¿Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾) ÐŸÐ¾Ð³Ð¾Ð´Ð° (ÐŸÐžÐšÐ ÐÐ• Ð˜Ð¡ÐŸÐžÐ›Ð¬Ð—Ð£Ð•Ð¢Ð¡Ð¯!!!!!)
- Ð¢ÐµÐ¼Ð¿ÐµÑ€Ð°Ñ‚ÑƒÑ€Ð°
- ÐžÑÐ°Ð´ÐºÐ¸
- Ð’ÐµÑ‚ÐµÑ€

---

## ðŸ› ï¸ Ð¢ÐµÑ…Ð½Ð¾Ð»Ð¾Ð³Ð¸Ñ‡ÐµÑÐºÐ¸Ð¹ ÑÑ‚ÐµÐº

### ðŸ”§ ÐžÑÐ½Ð¾Ð²Ð½Ñ‹Ðµ Ñ‚ÐµÑ…Ð½Ð¾Ð»Ð¾Ð³Ð¸Ð¸
- **Python 3.12**
- **uv** â€” ÑƒÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚ÑÐ¼Ð¸
- **Tensorflow** - Ð¾Ð±ÑƒÑ‡ÐµÐ½Ð¸Ðµ Ð¼Ð¾Ð´ÐµÐ»Ð¸

### ðŸ“¦ Ð Ð°Ð±Ð¾Ñ‚Ð° Ñ Ð´Ð°Ð½Ð½Ñ‹Ð¼Ð¸ Ð¸ ML
- **DVC** â€” Ð²ÐµÑ€ÑÐ¸Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð´Ð°Ð½Ð½Ñ‹Ñ…
  Ð¥Ñ€Ð°Ð½Ð¸Ð»Ð¸Ñ‰Ðµ: Google Drive
- **MLflow** â€” Ñ‚Ñ€ÐµÐºÐ¸Ð½Ð³ ÑÐºÑÐ¿ÐµÑ€Ð¸Ð¼ÐµÐ½Ñ‚Ð¾Ð² Ð¸ Ð¼Ð¾Ð´ÐµÐ»ÐµÐ¹
- **Feast** â€” feature store

### ðŸ§  ÐžÑ€ÐºÐµÑÑ‚Ñ€Ð°Ñ†Ð¸Ñ Ð¸ Ð¿Ð°Ð¹Ð¿Ð»Ð°Ð¹Ð½Ñ‹
- **Airflow** â€” Ð¾Ñ€ÐºÐµÑÑ‚Ñ€Ð°Ñ†Ð¸Ñ ETL Ð¸ ML-Ð¿Ð°Ð¹Ð¿Ð»Ð°Ð¹Ð½Ð¾Ð²

### ðŸŒ API Ð¸ Ð´ÐµÐ¿Ð»Ð¾Ð¹
- **FastAPI** â€” REST API Ð´Ð»Ñ Ð¸Ð½Ñ„ÐµÑ€ÐµÐ½ÑÐ°
- **Docker** â€” ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ð¸Ð·Ð°Ñ†Ð¸Ñ
- **Kubernetes (Minikube)** â€” Ð´ÐµÐ¿Ð»Ð¾Ð¹ Ð¸ Ð¼Ð°ÑÑˆÑ‚Ð°Ð±Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ

### ðŸ“ˆ ÐœÐ¾Ð½Ð¸Ñ‚Ð¾Ñ€Ð¸Ð½Ð³ Ð¸ ÐºÐ°Ñ‡ÐµÑÑ‚Ð²Ð¾
- **Prometheus** â€” ÑÐ±Ð¾Ñ€ Ð¼ÐµÑ‚Ñ€Ð¸Ðº
- **Grafana** â€” Ð²Ð¸Ð·ÑƒÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ
- **Evidently** â€” Ð´ÐµÑ‚ÐµÐºÑ†Ð¸Ñ data drift / concept drift

### ðŸš€ CI/CD
- **GitHub Actions** â€” Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ð·Ð°Ñ†Ð¸Ñ:
  - Ñ‚ÐµÑÑ‚Ð¾Ð²
  - ÑÐ±Ð¾Ñ€ÐºÐ¸ Docker-Ð¾Ð±Ñ€Ð°Ð·Ð¾Ð²
  - Ð´ÐµÐ¿Ð»Ð¾Ñ
  - Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ñ Ð¼Ð¾Ð´ÐµÐ»ÐµÐ¹

---

## ðŸ”„ MLOps Pipeline (E2E)

1. **Ð¡Ð±Ð¾Ñ€ Ð´Ð°Ð½Ð½Ñ‹Ñ…**
   - Ð˜ÑÑ‚Ð¾Ñ€Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð¿Ð¾ÐµÐ·Ð´Ð¾Ð²
   - (ÐžÐ¿Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾)(Ð’Ñ€ÐµÐ¼ÐµÐ½Ð½Ð¾ Ð¿Ñ€Ð¾Ð¿ÑƒÑ‰ÐµÐ½Ð½Ð¾) Ð¿Ð¾Ð³Ð¾Ð´Ð½Ñ‹Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ

2. **Ð’ÐµÑ€ÑÐ¸Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð´Ð°Ð½Ð½Ñ‹Ñ…**
   - DVC + ÑƒÐ´Ð°Ð»Ñ‘Ð½Ð½Ð¾Ðµ Ñ…Ñ€Ð°Ð½Ð¸Ð»Ð¸Ñ‰Ðµ

3. **Feature Engineering**
   - ÐžÐ±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ° Ð²Ñ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ñ… Ð¸ ÐºÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸Ð°Ð»ÑŒÐ½Ñ‹Ñ… Ð¿Ñ€Ð¸Ð·Ð½Ð°ÐºÐ¾Ð²
   - Ð—Ð°Ð³Ñ€ÑƒÐ·ÐºÐ° Ð¿Ñ€Ð¸Ð·Ð½Ð°ÐºÐ¾Ð² Ð² Feast

4. **ÐžÐ±ÑƒÑ‡ÐµÐ½Ð¸Ðµ Ð¼Ð¾Ð´ÐµÐ»Ð¸**
   - Ð›Ð¾Ð³Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ ÑÐºÑÐ¿ÐµÑ€Ð¸Ð¼ÐµÐ½Ñ‚Ð¾Ð² Ð² MLflow
   - Ð¡Ñ€Ð°Ð²Ð½ÐµÐ½Ð¸Ðµ Ð¼ÐµÑ‚Ñ€Ð¸Ðº
   - Ð ÐµÐ³Ð¸ÑÑ‚Ñ€Ð°Ñ†Ð¸Ñ Ð»ÑƒÑ‡ÑˆÐµÐ¹ Ð¼Ð¾Ð´ÐµÐ»Ð¸

5. **CI/CD**
   - ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ Ñ‚ÐµÑÑ‚Ñ‹
   - Ð¡Ð±Ð¾Ñ€ÐºÐ° Docker-Ð¾Ð±Ñ€Ð°Ð·Ð¾Ð²
   - Ð”ÐµÐ¿Ð»Ð¾Ð¹ Ð² Kubernetes

6. **Ð˜Ð½Ñ„ÐµÑ€ÐµÐ½Ñ**
   - FastAPI ÑÐµÑ€Ð²Ð¸Ñ
   - Online predictions

7. **ÐœÐ¾Ð½Ð¸Ñ‚Ð¾Ñ€Ð¸Ð½Ð³**
   - ÐœÐµÑ‚Ñ€Ð¸ÐºÐ¸ ÑÐµÑ€Ð²Ð¸ÑÐ° Ð¸ Ð¼Ð¾Ð´ÐµÐ»Ð¸
   - Prometheus + Grafana

8. **Drift Detection**
   - Evidently
   - ÐÐ»ÐµÑ€Ñ‚Ñ‹ Ð¿Ñ€Ð¸ Ð´ÐµÐ³Ñ€Ð°Ð´Ð°Ñ†Ð¸Ð¸ Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð¸Ð»Ð¸ Ð¼Ð¾Ð´ÐµÐ»Ð¸

---

## ðŸ“ Ð¡Ñ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð° Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°

```text
.
â”œâ”€â”€ feast/                 # Feature Store
â”œâ”€â”€ api/                   # FastAPI ÑÐµÑ€Ð²Ð¸Ñ
â”œâ”€â”€ airflow                # DAG'Ð¸ Airflow
â”œâ”€â”€ data/                  # DVC-tracked Ð´Ð°Ð½Ð½Ñ‹Ðµ
â”œâ”€â”€ dvc_remote/
â”œâ”€â”€ feature_repo/          # Feature engineering
â”œâ”€â”€ .github/workflows/     # CI/CD (GitHub Actions)
â”œâ”€â”€ k8s/                   # Kubernetes Ð¼Ð°Ð½Ð¸Ñ„ÐµÑÑ‚Ñ‹
â”œâ”€â”€ mlflow/
â”œâ”€â”€ models/
â”œâ”€â”€ docker/                # docker-compose && dockerfile
â”œâ”€â”€ monitoring/            # Prometheus / Evidently
â”œâ”€â”€ reports/               # EDA Ð¸ Ð¿Ð¾Ð´Ð¾Ð±Ð½Ð¾Ðµ
â”œâ”€â”€ src/                   # ÐžÑÐ½Ð¾Ð²Ð½Ñ‹Ðµ ÑÐºÑ€Ð¸Ð¿Ñ‚Ñ‹ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°
â”œâ”€â”€ tests/                 # Unit-testÑ‹ Ð¸ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ¸ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ¸
â”œâ”€â”€ dvc.yaml
â”œâ”€â”€ environment.yml        # Ð¡Ð¾Ð²Ð¼ÐµÑÑ‚Ð¸Ð¼Ð¾ÑÑ‚ÑŒ Ð¸ ÑƒÐ´Ð¾Ð±ÑÑ‚Ð²Ð¾ Ð´Ð»Ñ conda
â”œâ”€â”€ pyproject.toml         # Ð—Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸
â”œâ”€â”€ requirements.txt       # Ð—Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸ Ð±ÐµÐ· UV
>>>>>>> 44050f88 (Initial commit: Team-6 clean history)
