=======
# üöÇ Train Delay Prediction ‚Äî End-to-End MLOps Pipeline

**–ü—Ä–æ–µ–∫—Ç –ø–æ MLOps –∫–æ–º–∞–Ω–¥—ã ‚Ññ6**
**Team 6:** Meksiner, BookWormDevid, Le666Ly

End-to-end MLOps pipeline –¥–ª—è –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è –∑–∞–¥–µ—Ä–∂–∫–∏ –ø–æ–µ–∑–¥–æ–≤ —Å –ø–æ–ª–Ω—ã–º CI/CD, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–æ–º –∏ –¥–µ—Ç–µ–∫—Ü–∏–µ–π –¥—Ä–∏—Ñ—Ç–∞.

---

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ .venv
```bash
git clone https://github.com/BookWormDevid/T25--4m_MLOp.git
cd T25--4m_MLOp
uv venv .venv
source .venv/bin/activate  # Linux/Mac
# .venv\Scripts\activate   # Windows
```

### 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```bash
uv sync
uv sync --all-groups # –ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –º–µ–Ω—è—Ç—å –∫–æ–¥
python tests/test_tf.py # –ø—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ tensorflow
# –µ—Å–ª–∏ –µ—Å—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å tensorflow –Ω–∞ –≤–∏–Ω–¥–æ–≤—Å, —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ VC++ Redist
# uv pip uninstall tensorflow keras -y
# uv pip install tensorflow==2.18.1
```

### 3. DVC –∏ –¥–∞—Ç–∞—Å–µ—Ç
```bash
curl -L -o data/raw/delay.csv https://www.kaggle.com/api/v1/datasets/download/bartek358/train-delays
unzip data/raw/delay.zip -d data/raw
rm -r data/raw/delay.zip
mlflow server --backend-store-uri sqlite:///mlflow/mlflow.db --default-artifact-root ./mlruns --host 0.0.0.0 --port 5000
dvc repro
```

### 4. –ö–æ–º–∞–Ω–¥—ã –∑–∞–ø—É—Å–∫–∞ –∏ —Ä–∞–∑–Ω–æ–µ
#### 4.1 –î–∞–Ω–Ω—ã–µ –∏ –æ–±—É—á–µ–Ω–∏–µ
```bash
python tests/test_data.py
python src/train.py # –æ–±—É—á–µ–Ω–∏–µ
```
#### 4.2 –ó–∞–ø—É—Å–∫ API
```bash
python -m uvicorn src.api:app --reload
```

### [–ü—Ä–∏–º–µ—Ä–Ω—ã–µ —Ç–µ–º—ã –¥–ª—è –∏—Ç–æ–≥–æ–≤–æ–π —Ä–∞–±–æ—Ç—ã (–ø—Ä–æ–µ–∫—Ç–∞) –∫—É—Ä—Å–∞ MLOps](./final-project-topics-mlops.md)


## üìä –ü—Ä–æ–±–ª–µ–º–∞—Ç–∏–∫–∞

–¶–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞ ‚Äî **–ø—Ä–µ–¥—Å–∫–∞–∑–∞—Ç—å, –≤—Ä–µ–º—è –Ω–∞ –∫–æ—Ç–æ—Ä–æ–µ –±—É–¥–µ—Ç –∑–∞–¥–µ—Ä–∂–∞–Ω –ø–æ–µ–∑–¥**, –∏—Å–ø–æ–ª—å–∑—É—è –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ.

–ó–∞–¥–∞—á–∞ —Ñ–æ—Ä–º—É–ª–∏—Ä—É–µ—Ç—Å—è –∫–∞–∫ **Sequential**:
float(delay) 
---

## üîç –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –ø—Ä–∏–∑–Ω–∞–∫–∏

–ú–æ–¥–µ–ª—å –æ–±—É—á–∞–µ—Ç—Å—è –Ω–∞ —Å–ª–µ–¥—É—é—â–∏—Ö –≥—Ä—É–ø–ø–∞—Ö –ø—Ä–∏–∑–Ω–∞–∫–æ–≤:

### üïí –í—Ä–µ–º–µ–Ω–Ω—ã–µ –ø—Ä–∏–∑–Ω–∞–∫–∏
- –í—Ä–µ–º—è –ø—Ä–∏–±—ã—Ç–∏—è
- –î–∞—Ç–∞

### üöâ –ú–∞—Ä—à—Ä—É—Ç –∏ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- –°—Ç–∞–Ω—Ü–∏—è –ø—Ä–∏–±—ã—Ç–∏—è
- –ú–∞—Ä—à—Ä—É—Ç
- –ù–∞–∑–≤–∞–Ω–∏–µ –≤–µ—Ç–∫–∏
- –¢–∏–ø –º–∞—Ä—à—Ä—É—Ç–∞

### üöÜ –ü–æ–µ–∑–¥
- –¢–∏–ø –ø–æ–µ–∑–¥–∞ (—Ä–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã–π / —Å–∫–æ—Ä–æ—Å—Ç–Ω–æ–π / –≥—Ä—É–∑–æ–≤–æ–π –∏ —Ç.–¥.)

### üå¶Ô∏è (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –ü–æ–≥–æ–¥–∞ (–ü–û–ö–ê –ù–ï –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø!!!!!)
- –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞
- –û—Å–∞–¥–∫–∏
- –í–µ—Ç–µ—Ä

---

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

### üîß –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
- **Python 3.12**
- **uv** ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏
- **Tensorflow** - –æ–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏

### üì¶ –†–∞–±–æ—Ç–∞ —Å –¥–∞–Ω–Ω—ã–º–∏ –∏ ML
- **DVC** ‚Äî –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
- **MLflow** ‚Äî —Ç—Ä–µ–∫–∏–Ω–≥ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤ –∏ –º–æ–¥–µ–ª–µ–π
- **Feast** ‚Äî feature store (WIP)

### üß† –û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è –∏ –ø–∞–π–ø–ª–∞–π–Ω—ã
- **Airflow** ‚Äî –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è ETL –∏ ML-–ø–∞–π–ø–ª–∞–π–Ω–æ–≤ (WIP)

### üåê API –∏ –¥–µ–ø–ª–æ–π
- **FastAPI** ‚Äî REST API –¥–ª—è –∏–Ω—Ñ–µ—Ä–µ–Ω—Å–∞
- **Docker** ‚Äî –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è
- **Kubernetes (Minikube)** ‚Äî –¥–µ–ø–ª–æ–π –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ (WIP)

### üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –∫–∞—á–µ—Å—Ç–≤–æ (WIP)
- **Prometheus** ‚Äî —Å–±–æ—Ä –º–µ—Ç—Ä–∏–∫ 
- **Grafana** ‚Äî –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è
- **Evidently** ‚Äî –¥–µ—Ç–µ–∫—Ü–∏—è data drift / concept drift

### üöÄ CI/CD
- **GitHub Actions** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è:
  - —Ç–µ—Å—Ç–æ–≤
  - —Å–±–æ—Ä–∫–∏ Docker-–æ–±—Ä–∞–∑–æ–≤  (WIP)
  - –¥–µ–ø–ª–æ—è  (WIP)
  - –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –º–æ–¥–µ–ª–µ–π  (WIP)

---

## üîÑ MLOps Pipeline (E2E)

1. **–°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö**
   - –ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –ø–æ–µ–∑–¥–æ–≤
   - (–í—Ä–µ–º–µ–Ω–Ω–æ –ø—Ä–æ–ø—É—â–µ–Ω–Ω–æ) –ø–æ–≥–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

2. **–í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö**
   - DVC

3. **Feature Engineering**
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∞–ª—å–Ω—ã—Ö –ø—Ä–∏–∑–Ω–∞–∫–æ–≤
   - –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ –≤ Feast (WIP) (—Å–µ–π—á–∞—Å –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é –≤ processed)

4. **–û–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏**
   - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤ –≤ MLflow
   - –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫
   - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ª—É—á—à–µ–π –º–æ–¥–µ–ª–∏  (WIP)

5. **CI/CD**
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã
   - –°–±–æ—Ä–∫–∞ Docker-–æ–±—Ä–∞–∑–æ–≤  (WIP)
   - –î–µ–ø–ª–æ–π –≤ Kubernetes  (WIP)

6. **–ò–Ω—Ñ–µ—Ä–µ–Ω—Å**
   - FastAPI —Å–µ—Ä–≤–∏—Å
   - Online predictions  (WIP)

7. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**
   - –ú–µ—Ç—Ä–∏–∫–∏ —Å–µ—Ä–≤–∏—Å–∞ –∏ –º–æ–¥–µ–ª–∏   (WIP)
   - Prometheus + Grafana   (WIP)

8. **Drift Detection** 
   - Evidently  (WIP)
   - –ê–ª–µ—Ä—Ç—ã –ø—Ä–∏ –¥–µ–≥—Ä–∞–¥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö –∏–ª–∏ –º–æ–¥–µ–ª–∏ (WIP)

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```text
.
‚îú‚îÄ‚îÄ feast/                 # Feature Store
‚îú‚îÄ‚îÄ api/                   # FastAPI —Å–µ—Ä–≤–∏—Å
‚îú‚îÄ‚îÄ airflow                # DAG'–∏ Airflow
‚îú‚îÄ‚îÄ data/                  # DVC-tracked –¥–∞–Ω–Ω—ã–µ
‚îú‚îÄ‚îÄ dvc_remote/
‚îú‚îÄ‚îÄ feature_repo/          # Feature engineering
‚îú‚îÄ‚îÄ .github/workflows/     # CI/CD (GitHub Actions)
‚îú‚îÄ‚îÄ k8s/                   # Kubernetes –º–∞–Ω–∏—Ñ–µ—Å—Ç—ã
‚îú‚îÄ‚îÄ mlflow/
‚îú‚îÄ‚îÄ models/
‚îú‚îÄ‚îÄ docker/                # docker-compose && dockerfile
‚îú‚îÄ‚îÄ monitoring/            # Prometheus / Evidently
‚îú‚îÄ‚îÄ reports/               # EDA –∏ –ø–æ–¥–æ–±–Ω–æ–µ
‚îú‚îÄ‚îÄ src/                   # –û—Å–Ω–æ–≤–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã –ø—Ä–æ–µ–∫—Ç–∞
‚îú‚îÄ‚îÄ tests/                 # Unit-test—ã –∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∏
‚îú‚îÄ‚îÄ dvc.yaml
‚îú‚îÄ‚îÄ environment.yml        # –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –∏ —É–¥–æ–±—Å—Ç–≤–æ –¥–ª—è conda
‚îú‚îÄ‚îÄ pyproject.toml         # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ requirements.txt       # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –±–µ–∑ UV

