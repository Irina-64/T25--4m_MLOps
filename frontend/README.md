# Фронтенд для прогнозирования оттока клиентов

Простой веб-интерфейс для взаимодействия с API прогнозирования оттока клиентов.

## Быстрый старт

### Вариант 1: Через API (рекомендуется)

1. **Клонируйте репозиторий:**
   ```bash
   git clone <repository-url>
   cd T25--4m_MLOps-team-4
   ```

2. **Создайте виртуальное окружение (опционально, но рекомендуется):**
   ```bash
   # Windows
   python -m venv venv
   venv\Scripts\activate
   
   # Linux/Mac
   python -m venv venv
   source venv/bin/activate
   ```

3. **Установите зависимости:**
   ```bash
   pip install -r requirememts.txt
   ```

4. **Убедитесь, что модель и данные существуют:**
   - Модель: `models/lgb_model.joblib`
   - Данные: `data/processed/processed.csv`
   
   Если их нет, запустите pipeline:
   ```bash
   python src/preprocess.py
   python src/train.py
   ```

5. **Запустите API сервер:**
   ```bash
   uvicorn src.api:app --reload --port 8080
   ```

6. **Откройте в браузере:**
   - `http://localhost:8080/` - главная страница с фронтендом
   - `http://localhost:8080/docs` - документация API (Swagger)

### Вариант 2: Локальный запуск HTML файла

1. **Скопируйте файл `frontend/index.html` на ваш компьютер**

2. **Запустите API сервер** (см. Вариант 1, шаги 1-3)

3. **Откройте HTML файл в браузере:**
   - Дважды кликните на `index.html` или откройте через браузер
   - Фронтенд автоматически подключится к `http://localhost:8080`

**Важно:** API должно быть запущено на порту 8080, иначе фронтенд не сможет получить прогнозы.

## Использование

1. Введите JSON данные с признаками пользователя в текстовое поле
2. Или используйте кнопки с примерами данных (низкий/средний/высокий риск)
3. Нажмите "Получить прогноз"
4. Результат отобразится справа с вероятностью оттока и уровнем риска

## Примеры данных

Фронтенд включает готовые примеры:
- **Низкий риск** - активный пользователь с регулярными транзакциями
- **Средний риск** - пользователь со средней активностью
- **Высокий риск** - неактивный пользователь с признаками оттока
- **Минимальный набор** - все признаки равны 0

## API Endpoints

- `GET /` - главная страница (фронтенд)
- `POST /predict` - получение прогноза оттока
- `GET /features` - список признаков модели
- `GET /docs` - документация API
- `GET /metrics` - метрики Prometheus


